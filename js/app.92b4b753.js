(function(e){function n(n){for(var o,a,c=n[0],s=n[1],l=n[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(n);while(p.length)p.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,c=1;c<t.length;c++){var s=t[c];0!==r[s]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={app:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/G3o.link/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var u=s;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var o=t("85ec"),r=t.n(o);r.a},"2d23":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],a=(t("034f"),t("2877")),c={},s=Object(a["a"])(c,r,i,!1,null,null,null),l=s.exports,u=t("9483");Object(u["a"])("".concat("/G3o.link/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var d=t("8c4f"),p=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("GmapMap",{staticStyle:{width:"100%",height:"90%"},attrs:{center:{lat:e.initialPosition.lat,lng:e.initialPosition.lng},zoom:10,streetViewControl:!0,"map-type-id":"terrain"}},e._l(e.markers,(function(n,o){return t("GmapMarker",{key:o,attrs:{label:n.userName,position:n.position,clickable:!0,draggable:!1,title:n.userName},on:{click:function(t){e.center=n.position}}},[t("GmapInfoWindow",[e._v(e._s(n.userName))])],1)})),1),t("div",{staticClass:"notification"},[t("p",[e._v("Online Users: "+e._s(e.markers.length))]),t("ul",e._l(e.onlineUsers,(function(n,o){return t("li",{key:o},[t("pre",{domProps:{textContent:e._s(n.data.userName)}})])})),0)])],1)},f=[],g=(t("d81d"),t("5530")),m=(t("96cf"),t("1da1")),h=(t("bc3a"),t("6be2")),v=t("9062"),b=t.n(v),w=(t("e40d"),t("0f40")),y=t.n(w),k=new h["Realtime"]({key:"bHIWtw.UndNqg:Ui1Ym57DtUckIYtI",clientId:"".concat(1e6*Math.random())}),_={name:"Home",data:function(){return{usersName:null,gettingLocation:!0,initialPosition:{lat:10,lng:10},zoom:11,markers:[],userlocation:[],onlineUsers:[],channelName:null}},components:{Loading:b.a},mounted:function(){var e=prompt("To get started, input your name in the field below and locate your friends around based on your location, please turn on your location setting \n What is your name?");this.usersName=e;var n=prompt("Enter name of channel you are interested in");this.channelName=n,window.history.pushState(n,n,"/"+n)},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var t,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.fetchData();case 2:t=k.channels.get(e.channelName),t.attach((function(n){if(n)return console.error("Error attaching to the channel");console.log("We are now attached to the channel"),t.presence.enter(e.userlocation,(function(e){if(e)return console.error("Error entering presence");console.log("We are now successfully present")}))})),o=e,t.presence.subscribe("update",(function(e){console.log(e),console.log("Received a "+e.action+" from "+e.clientId),t.presence.get((function(e,n){console.log(n),o.markers=n.map((function(e){return Object(g["a"])({},e.data)})),o.onlineUsers=n,console.log("There are now "+n.length+" clients present on this channel")}))}));case 6:case"end":return n.stop()}}),n)})))()},methods:{fetchData:function(){var e=this;"geolocation"in navigator?(this.gettingLocation=!0,window.setInterval((function(){navigator.geolocation.getCurrentPosition((function(n){e.gettingLocation=!1,e.initialPosition.lat=n.coords.latitude,e.initialPosition.lng=n.coords.longitude;var t={position:{lat:n.coords.latitude+y()(1e-4,.0099),lng:n.coords.longitude+y()(1e-4,.0099)},userName:e.usersName};e.userlocation=t,e.updateRoom(t)}))}),2e3),navigator.geolocation.watchPosition((function(n){e.gettingLocation=!1,e.initialPosition.lat=n.coords.latitude,e.initialPosition.lng=n.coords.longitude;var t={position:{lat:n.coords.latitude,lng:n.coords.longitude},userName:e.usersName};e.userlocation=t,e.updateRoom(t)}),(function(n){e.gettingLocation=!1,e.errorStr=n.message}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})):this.errorStr="Geolocation is not available."},updateRoom:function(e){var n=k.channels.get(this.channelName);n.presence.update(e,(function(e){if(e)return console.error("Error updating presence data");console.log("We have successfully updated our data")}))}}},N=_,P=(t("cccb"),Object(a["a"])(N,p,f,!1,null,null,null)),O=P.exports,j=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("GmapMap",{staticStyle:{width:"100%",height:"90%"},attrs:{center:{lat:e.initialPosition.lat,lng:e.initialPosition.lng},zoom:10,streetViewControl:!0,"map-type-id":"terrain"}},e._l(e.markers,(function(n,o){return t("GmapMarker",{key:o,attrs:{label:n.userName,position:n.position,clickable:!0,draggable:!1,title:n.userName},on:{click:function(t){e.center=n.position}}},[t("GmapInfoWindow",[e._v(e._s(n.userName))])],1)})),1),t("div",{staticClass:"notification"},[t("p",[e._v(e._s(e.channel_id)+" Online Users: "+e._s(e.markers.length))]),t("ul",e._l(e.onlineUsers,(function(n,o){return t("li",{key:o},[t("pre",{domProps:{textContent:e._s(n.data.userName)}})])})),0)])],1)},x=[],I=new h["Realtime"]({key:"bHIWtw.UndNqg:Ui1Ym57DtUckIYtI",clientId:"".concat(1e6*Math.random())}),S={name:"Home",data:function(){return{usersName:null,gettingLocation:!0,initialPosition:{lat:10,lng:10},zoom:11,markers:[],userlocation:[],onlineUsers:[]}},components:{Loading:b.a},mounted:function(){var e=prompt("To get started, input your name in the field below and locate your friends around based on your location, please turn on your location setting \n What is your name?");this.usersName=e},created:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var t,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.fetchData();case 2:t=I.channels.get(e.channel_id),t.attach((function(n){if(n)return console.error("Error attaching to the channel");console.log("We are now attached to the channel"),t.presence.enter(e.userlocation,(function(e){if(e)return console.error("Error entering presence");console.log("We are now successfully present")}))})),o=e,t.presence.subscribe("update",(function(e){console.log(e),console.log("Received a "+e.action+" from "+e.clientId),t.presence.get((function(e,n){console.log(n),o.markers=n.map((function(e){return Object(g["a"])({},e.data)})),o.onlineUsers=n,console.log("There are now "+n.length+" clients present on this channel")}))}));case 6:case"end":return n.stop()}}),n)})))()},computed:{channel_id:function(){return this.$route.params.id}},methods:{fetchData:function(){var e=this;"geolocation"in navigator?(this.gettingLocation=!0,window.setInterval((function(){navigator.geolocation.getCurrentPosition((function(n){e.gettingLocation=!1,e.initialPosition.lat=n.coords.latitude,e.initialPosition.lng=n.coords.longitude;var t={position:{lat:n.coords.latitude+y()(1e-4,.0099),lng:n.coords.longitude+y()(1e-4,.0099)},userName:e.usersName};e.userlocation=t,e.updateRoom(t)}))}),2e3),navigator.geolocation.watchPosition((function(n){e.gettingLocation=!1,e.initialPosition.lat=n.coords.latitude,e.initialPosition.lng=n.coords.longitude;var t={position:{lat:n.coords.latitude,lng:n.coords.longitude},userName:e.usersName};e.userlocation=t,e.updateRoom(t)}),(function(n){e.gettingLocation=!1,e.errorStr=n.message}))):this.errorStr="Geolocation is not available."},updateRoom:function(e){var n=I.channels.get(this.channel_id);n.presence.update(e,(function(e){if(e)return console.error("Error updating presence data");console.log("We have successfully updated our data")}))}}},R=S,U=(t("8748"),Object(a["a"])(R,j,x,!1,null,null,null)),W=U.exports;o["a"].use(d["a"]);var E=[{path:"/",name:"Home",component:O},{path:"/:id",name:"channel",component:W}],L=new d["a"]({mode:"history",routes:E}),C=L,G=t("2f62");o["a"].use(G["a"]);var M=new G["a"].Store({state:{},mutations:{},actions:{},modules:{}}),T=t("1923");o["a"].use(T,{load:{key:"AIzaSyBNV_X9Ktv0uJZE4qC0lWlH8n8x1dBfwTk",libraries:"places"}}),o["a"].config.productionTip=!1,new o["a"]({router:C,store:M,render:function(e){return e(l)}}).$mount("#app")},"5ced":function(e,n,t){},"85ec":function(e,n,t){},8748:function(e,n,t){"use strict";var o=t("2d23"),r=t.n(o);r.a},cccb:function(e,n,t){"use strict";var o=t("5ced"),r=t.n(o);r.a}});
//# sourceMappingURL=app.92b4b753.js.map